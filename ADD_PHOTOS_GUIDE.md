# Инструкция по добавлению фотографий номеров

## Текущее состояние
Сейчас в приложении используются placeholder изображения (серые прямоугольники). 
Это сделано специально, чтобы вы могли легко добавить свои фотографии позже.

## Шаги для добавления реальных фотографий

### Шаг 1: Подготовка изображений

1. Подготовьте фотографии номеров
2. Назовите их согласно номерам комнат:
   - `room_101.jpg` или `room_101.png`
   - `room_102.jpg` или `room_102.png`
   - `room_103.jpg` или `room_103.png`
   - и т.д.

**Важно**: 
- Используйте только строчные буквы
- Не используйте пробелы и специальные символы
- Формат: `room_XXX.jpg` или `room_XXX.png`

### Шаг 2: Размещение изображений

Скопируйте все фотографии в папку:
```
HotelApp/app/src/main/res/drawable/
```

### Шаг 3: Обновление базы данных

Откройте файл `DatabaseHelper.kt` и найдите метод `insertTestData()`.

Измените строки с `put(COL_ROOM_IMAGE, "placeholder")` на имена ваших файлов без расширения:

**Было:**
```kotlin
ContentValues().apply {
    put(COL_ROOM_NUMBER, "101")
    put(COL_ROOM_TYPE, "Стандарт")
    // ... другие поля ...
    put(COL_ROOM_IMAGE, "placeholder")  // <-- это нужно изменить
}
```

**Стало:**
```kotlin
ContentValues().apply {
    put(COL_ROOM_NUMBER, "101")
    put(COL_ROOM_TYPE, "Стандарт")
    // ... другие поля ...
    put(COL_ROOM_IMAGE, "room_101")  // <-- без расширения .jpg или .png
}
```

Сделайте это для всех 10 номеров (101, 102, 103, 104, 201, 202, 203, 301, 302, 401).

### Шаг 4: Обновление кода адаптера

#### 4.1. Обновите файл `RoomAdapter.kt`

Найдите строку:
```kotlin
// Заглушка для изображения
ivRoomImage.setImageResource(R.drawable.placeholder_room)
```

Замените на:
```kotlin
// Загрузка изображения номера
val imageResId = itemView.context.resources.getIdentifier(
    room.imagePath, "drawable", itemView.context.packageName
)
if (imageResId != 0) {
    ivRoomImage.setImageResource(imageResId)
} else {
    // Если изображение не найдено, показываем placeholder
    ivRoomImage.setImageResource(R.drawable.placeholder_room)
}
```

#### 4.2. Обновите файл `RoomDetailsActivity.kt`

Найдите строку:
```kotlin
// Заглушка для изображения
ivRoomDetailImage.setImageResource(R.drawable.placeholder_room)
```

Замените на:
```kotlin
// Загрузка изображения номера
val imageResId = resources.getIdentifier(
    room.imagePath, "drawable", packageName
)
if (imageResId != 0) {
    ivRoomDetailImage.setImageResource(imageResId)
} else {
    // Если изображение не найдено, показываем placeholder
    ivRoomDetailImage.setImageResource(R.drawable.placeholder_room)
}
```

### Шаг 5: Сброс базы данных

После внесения изменений нужно пересоздать базу данных.

**Способ 1: Переустановка приложения**
1. В Android Studio: Run → Run 'app' (Shift+F10)
2. В меню выберите: Run → Edit Configurations
3. В разделе "Installation Options" включите "Always install with package manager"
4. Или просто удалите приложение с устройства и установите заново

**Способ 2: Удаление базы вручную**
1. В Android Studio: View → Tool Windows → Device File Explorer
2. Перейдите в: `/data/data/com.example.kvalik_hotel/databases/`
3. Найдите файл `hotel.db`
4. Щелкните правой кнопкой → Delete
5. Перезапустите приложение

### Шаг 6: Тестирование

1. Запустите приложение
2. Войдите под логином **1** / паролем **1**
3. Откройте "Просмотр всех номеров"
4. Убедитесь, что фотографии отображаются правильно
5. Нажмите на любой номер и проверьте детальную страницу

## Рекомендации по фотографиям

### Размеры изображений
- **Рекомендуемый размер**: 1200x800 пикселей
- **Минимальный размер**: 800x600 пикселей
- **Формат**: JPEG (для меньшего размера файла) или PNG

### Оптимизация
Чтобы приложение не было слишком большим:
1. Используйте JPEG вместо PNG для фотографий
2. Сжимайте изображения до разумного размера (качество 80-85%)
3. Используйте онлайн-сервисы для сжатия: TinyPNG, Compressor.io

### Соотношение сторон
- **Для списка**: лучше 16:9 или 4:3
- **Для детальной страницы**: 16:9 или 3:2

## Пример структуры файлов

После добавления фотографий структура папки drawable будет выглядеть так:

```
res/drawable/
├── placeholder_room.xml
├── room_101.jpg
├── room_102.jpg
├── room_103.jpg
├── room_104.jpg
├── room_201.jpg
├── room_202.jpg
├── room_203.jpg
├── room_301.jpg
├── room_302.jpg
└── room_401.jpg
```

## Частые проблемы

### Проблема: Изображения не отображаются
**Решение**:
- Проверьте названия файлов (только строчные буквы, без пробелов)
- Убедитесь, что файлы находятся в папке `res/drawable/`
- Проверьте, что имена в базе данных совпадают с именами файлов (без расширения)
- Пересоздайте базу данных (см. Шаг 5)

### Проблема: Приложение не компилируется
**Решение**:
- В Android Studio: Build → Clean Project
- Затем: Build → Rebuild Project
- Если не помогло, попробуйте: File → Invalidate Caches / Restart

### Проблема: Изображения слишком большие
**Решение**:
- Оптимизируйте изображения перед добавлением
- Используйте JPEG вместо PNG
- Сожмите изображения до 1200x800 пикселей

## Альтернативный вариант: Использование одного изображения для всех номеров

Если у вас пока нет разных фотографий, можно использовать одно изображение:

1. Назовите его `hotel_room.jpg`
2. Поместите в `res/drawable/`
3. В `DatabaseHelper.kt` для всех номеров укажите:
   ```kotlin
   put(COL_ROOM_IMAGE, "hotel_room")
   ```

## Поддержка

Если у вас возникли проблемы с добавлением фотографий, проверьте:
1. ✅ Правильность названий файлов
2. ✅ Расположение файлов в папке drawable
3. ✅ Совпадение имен в базе данных
4. ✅ Пересоздание базы данных после изменений
5. ✅ Обновление кода в RoomAdapter и RoomDetailsActivity

---

**Примечание**: Placeholder изображения останутся как fallback на случай, если какое-то изображение не будет найдено.
